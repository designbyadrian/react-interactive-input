import{j as k}from"./jsx-runtime-j_jdvEMj.js";import{r as o}from"./index-B-o1Wr-g.js";function V(){let t="";return function(s){const a=/^-?\d*([.,]?)\d*$/,u=s.match(a);return u&&(t=u[0]),t}}const x=t=>{const n=t.toString().split(".");return n.length>1?n[1].length:0},M=V(),D=o.forwardRef(({mask:t=M,onChange:n,step:s="1",value:a,...u},f)=>{const[p,l]=o.useState(a||""),g=f||o.useRef(null),h=e=>{const{value:c}=e.target,r=t(c);if(l(r),n){const i={...e,target:{...e.target,value:r.replace(",",".")}};n(i)}},d=(e,c)=>{const r=parseFloat(p.replace(",","."))||0,i=parseFloat(s.toString()),v=x(s),b=(c?r+i:r-i).toFixed(v),m=t(b);if(l(m),n){const y={...new Event("change",{bubbles:!0}),target:{...e.target,value:m.replace(",",".")}};n(y)}},w=e=>{e.key==="ArrowUp"?(e.preventDefault(),d(e,!0)):e.key==="ArrowDown"&&(e.preventDefault(),d(e,!1))};return o.useEffect(()=>{l(a||"")},[a]),k.jsx("input",{...u,type:"text",ref:g,value:p,onChange:h,onKeyDown:w})});D.__docgenInfo={description:"A React input component featuring input masking specifically designed to address limitations with negative numbers in standard HTML input elements. This component ensures that negative values are properly formatted and accepted by the input field, preventing unexpected behavior or errors when handling signed numbers.",methods:[],displayName:"MaskedInput",props:{mask:{required:!1,tsType:{name:"signature",type:"function",raw:"(rawValue: string) => string",signature:{arguments:[{type:{name:"string"},name:"rawValue"}],return:{name:"string"}}},description:"Masking function to apply to the input value. Defaults to `numberMask` which ensures that the input value is a valid number, including negative numbers.",defaultValue:{value:"createNumberMask()",computed:!0}},value:{required:!1,tsType:{name:"string"},description:""},step:{defaultValue:{value:"'1'",computed:!1},required:!1}}};export{D as M,x as g};
